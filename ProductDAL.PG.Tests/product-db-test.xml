<?xml version="1.0" encoding="utf-8" ?>
<dbTest>
  <scripts>
    <script name="delete-products">
      DELETE FROM public.product;
    </script>

    <script name="delete-categories">
      DELETE FROM public.category;
    </script>

    <script name="delete-suppliers">
      DELETE FROM public.supplier;
    </script>

    <script name="select-all-products">
      SELECT * FROM [dbo].[Product];
    </script>

    <script name="reseed-product-table">
      -- DBCC CHECKIDENT ('[dbo].[Product]', RESEED, 99);
    </script>

    <script name="mock_get_date">
      ALTER PROCEDURE [dbo].[usp_GetDate] @Date datetime output AS SET @Date = '2015-10-20 14:50:01.456';
    </script>

    <script name="select-all-suppliers">
      SELECT * FROM [dbo].[Supplier];
    </script>
  </scripts>

  <datasets>
    <dataset name="categories" table="public.category">
      <data>
        <row id="1" name="category-1" />
        <row id="2" name="category-2" />
        <row id="3" name="category-3" />
      </data>
    </dataset>

    <dataset name="suppliers" table="public.supplier">
      <data>
        <row id="1" name="supplier-1" contact_name="contact-name-1" contact_phone="100-200-0001" contact_email="email-1@test.com" />
        <row id="2" name="supplier-2" contact_name="contact-name-2" contact_phone="100-200-0002" contact_email="email-2@test.com" />
        <row id="3" name="supplier-3" contact_name="contact-name-3" contact_phone="100-200-0003" contact_email="email-3@test.com" />
      </data>
    </dataset>

    <dataset name="products" table="public.product">
      <data>
        <row id="1" code="code-1" name="product-1" description="desc-1" cost="101.10" list_price="111.10" category_id="1" supplier_id="1" release_date="2000-01-01" created_on="2000-01-01"/>
        <row id="2" code="code-2" name="product-2" description="desc-2" cost="102.10" list_price="112.10" category_id="1" supplier_id="2" release_date="2000-01-02" created_on="2000-01-01 10:11:12"/>
        <row id="3" code="code-3" name="product-3" description="desc-3" cost="103.10" list_price="113.10" category_id="2" supplier_id="1" release_date="2000-01-03" created_on="2000-01-02 10:11:12"/>
      </data>
    </dataset>

    <dataset name="products-after-insert" table="Product">
      <data>
        <row Id="1" Code="code-1" Name="product-1" Description="desc-1" Cost="101.10" ListPrice="111.10" CategoryId="1" SupplierId="1" ReleaseDate="2000-01-01" CreatedOn="2000-01-01 00:00:00"/>
        <row Id="2" Code="code-2" Name="product-2" Description="desc-2" Cost="102.10" ListPrice="112.10" CategoryId="1" SupplierId="2" ReleaseDate="2000-01-02" CreatedOn="2000-01-01 10:11:12"/>
        <row Id="3" Code="code-3" Name="product-3" Description="desc-3" Cost="103.10" ListPrice="113.10" CategoryId="2" SupplierId="1" ReleaseDate="2000-01-03" CreatedOn="2000-01-02 10:11:12"/>
        <row Id="100" Code="code-100" Name="product-100" Description="desc-100" Cost="1000.00" ListPrice="1100.00" CategoryId="1" SupplierId="2" ReleaseDate="2010-10-10" CreatedOn="2015-10-20 14:50:01"/>
      </data>
    </dataset>

    <dataset name="suppliers-updated" table="Supplier">
      <data>
        <row Id="1" Name="supplier-1" ContactName="contact-name-1" ContactPhone="100-200-0001" ContactEmail="email-1@test.com" />
        <row Id="2" Name="supplier-2-updated" ContactName="contact-name-2-updated" ContactPhone="100-200-9999" ContactEmail="email-2-updated@test.com" />
        <row Id="3" Name="supplier-3" ContactName="contact-name-3" ContactPhone="100-200-0003" ContactEmail="email-3@test.com" />
      </data>
    </dataset>    

  </datasets>
</dbTest>